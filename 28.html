<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åå¸«ç”Ÿç‰©æ•™å®¤ï¼šç´°èƒæ»²é€ä½œç”¨ (å°ç²˜è£½ä½œ)</title>
    <style>
        /* --- åŸºç¤ç’°å¢ƒè¨­å®š --- */
        body {
            font-family: "Microsoft JhengHei", sans-serif;
            background-color: #f0f4f8; text-align: center; padding: 20px;
            padding-bottom: 60px; /* ç•™ä½ç½®çµ¦å±¬å */
        }
        h1 { color: #2c3e50; margin-bottom: 10px; }
        
        .lab-bench {
            display: flex; justify-content: center; gap: 60px;
            margin-top: 40px; flex-wrap: wrap;
        }
        .beaker {
            width: 280px; height: 340px;
            border: 4px solid #3498db; border-top: none; border-radius: 0 0 30px 30px;
            background-color: rgba(52, 152, 219, 0.1);
            position: relative; display: flex; justify-content: center; align-items: center;
            transition: background-color 2s; overflow: hidden;
        }
        .label {
            position: absolute; bottom: -40px; font-weight: bold; font-size: 1.2em; color: #555;
        }
        
        svg { overflow: visible; transition: all 4s ease; }

        /* --- å‹•ç‰©ç´°èƒ --- */
        #animal-path {
            fill: #e74c3c; stroke: #c0392b; stroke-width: 2;
            transform-origin: center;
            transition: transform 4s ease, fill 0.5s;
        }
        .animal-burst-state { fill: #c0392b !important; }

        /* --- æ¤ç‰©ç´°èƒ --- */
        #plant-wall-path {
            fill: none;
            stroke: #27ae60;
            stroke-width: 8;
            stroke-linejoin: round;
            transition: d 4s cubic-bezier(0.25, 0.8, 0.25, 1), stroke-width 4s, stroke 4s;
        }
        #plant-membrane-path {
            fill: #a3e4d7; fill-opacity: 0.8;
            stroke: #16a085; stroke-width: 2;
            transition: d 4s cubic-bezier(0.25, 0.8, 0.25, 1);
        }

        /* --- æ§åˆ¶é¢æ¿ --- */
        .controls {
            margin-top: 30px; padding: 20px; background: white; border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1); display: inline-block;
        }
        button {
            padding: 12px 24px; margin: 0 8px; font-size: 1em; cursor: pointer;
            border: none; border-radius: 8px; color: white; font-weight: bold;
            transition: transform 0.1s;
        }
        button:active { transform: scale(0.95); }
        #btn-hyper { background-color: #f39c12; }
        #btn-iso { background-color: #3498db; }
        #btn-hypo { background-color: #9b59b6; }
        .description {
            margin-top: 25px; font-size: 1.3em; color: #d35400; font-weight: bold; min-height: 1.5em;
        }

        /* --- ğŸŒŸ å±¬åæ¨£å¼ (æ–°å¢) ğŸŒŸ --- */
        .creator-badge {
            margin-top: 60px;
            display: inline-block;
            background: #2c3e50; /* æ·±è—è‰²åº• */
            color: #f1c40f;       /* é‡‘è‰²å­— */
            padding: 15px 50px;
            border-radius: 50px;  /* è† å›Šå½¢ç‹€ */
            font-size: 1.5rem;
            font-weight: 900;
            letter-spacing: 2px;
            box-shadow: 0 10px 20px rgba(44, 62, 80, 0.3); /* ç«‹é«”é™°å½± */
            border: 4px solid #f1c40f; /* é‡‘è‰²é‚Šæ¡† */
            transform: rotate(-2deg); /* ç¨å¾®æ­ªä¸€é»é»æ¯”è¼ƒæ´»æ½‘ */
            transition: transform 0.3s;
            cursor: default;
        }
        .creator-badge:hover {
            transform: rotate(0deg) scale(1.05); /* æ»‘é¼ ç§»éå»æœƒè®Šæ­£è®Šå¤§ */
        }

        /* --- é¡†ç²’ç³»çµ± --- */
        .water-particle {
            position: absolute; width: 8px; height: 8px; background-color: #3498db;
            border-radius: 50%; opacity: 0; pointer-events: none; z-index: 1;
        }
        @keyframes particleFlowOut {
            0% { opacity: 1; transform: translate(-50%, -50%) scale(0.5); left: 50%; top: 50%; }
            100% { opacity: 0; transform: translate(var(--tx), var(--ty)) scale(1.2); left: 50%; top: 50%; }
        }
        @keyframes particleFlowIn {
            0% { opacity: 0; transform: translate(var(--tx), var(--ty)) scale(1.2); left: 50%; top: 50%; }
            20% { opacity: 1; }
            100% { opacity: 0; transform: translate(-50%, -50%) scale(0.5); left: 50%; top: 50%; }
        }
        .p-out .water-particle { animation: particleFlowOut 2s infinite linear; }
        .p-in .water-particle { animation: particleFlowIn 2s infinite linear; }

        /* --- èƒŒæ™¯é¡è‰²ç‹€æ…‹ --- */
        .bg-hyper { background-color: rgba(243, 156, 18, 0.4); }
        .bg-hypo { background-color: rgba(155, 89, 182, 0.1); }

    </style>
</head>
<body>

    <h1>ğŸ”¬ ç”Ÿç‰©å¯¦é©—å®¤(ç´°èƒçš„æ»²é€ä½œç”¨) </h1>
    <p>è§€å¯Ÿé‡é»ï¼šæ¤ç‰©ç´°èƒå£å±•ç¾å‡ºã€Œå …éŸŒã€çš„ç‰¹æ€§ï¼Œåªæœƒå¾®å¾®å¤–å‡¸ï¼</p>

    <div class="controls">
        <button id="btn-hyper" onclick="runExperiment('hyper')">é«˜å¼µæº¶æ¶² (æ¿ƒé¹½æ°´)</button>
        <button id="btn-iso" onclick="runExperiment('iso')">ç­‰å¼µæº¶æ¶² (ç”Ÿç†é£Ÿé¹½æ°´)</button>
        <button id="btn-hypo" onclick="runExperiment('hypo')">ä½å¼µæº¶æ¶² (æ¸…æ°´)</button>
    </div>

    <div class="description" id="status-text">è«‹é¸æ“‡æº¶æ¶²ï¼Œè§€å¯Ÿæœ€çœŸå¯¦çš„å¾®å½å¼µåŠ›...</div>

    <div class="lab-bench">
        <div class="beaker" id="beaker-animal">
            <svg width="160" height="160" viewBox="0 0 200 200">
                <path id="animal-path" d="M 100 100 m -60 0 a 60 60 0 1 0 120 0 a 60 60 0 1 0 -120 0" />
            </svg>
            <div class="label">å‹•ç‰©ç´°èƒ</div>
        </div>

        <div class="beaker" id="beaker-plant">
            <svg width="180" height="180" viewBox="0 0 200 200">
                <path id="plant-membrane-path" />
                <path id="plant-wall-path" />
            </svg>
            <div class="label">æ¤ç‰©ç´°èƒ</div>
        </div>
    </div>

    <div class="creator-badge">
        âœ¨ å°ç²˜è£½ä½œ âœ¨
    </div>

    <script>
        let burstTimer;
        
        // --- æ ¸å¿ƒè·¯å¾‘æ•¸æ“š (V6.0 å¯«å¯¦å¾®å½ç‰ˆ) ---
        const plantPathNormal = "M 40 40 Q 100 40 160 40 Q 160 100 160 160 Q 100 160 40 160 Q 40 100 40 40 Z";
        // å¾®å½ç‰ˆï¼šæ§åˆ¶é»å¾ 40 æ‹‰åˆ° 25 (åªå·® 15px)
        const plantPathTurgid = "M 40 40 Q 100 25 160 40 Q 175 100 160 160 Q 100 175 40 160 Q 25 100 40 40 Z";
        const plantPathShrinkMembrane = "M 55 55 Q 100 65 145 55 Q 135 100 145 145 Q 100 135 55 145 Q 65 100 55 55 Z";

        const animalPathNormal = "M 100 100 m -60 0 a 60 60 0 1 0 120 0 a 60 60 0 1 0 -120 0";
        const animalPathBurst = "M 100 40 A 60 60 0 1 0 160 100 L 150 90 L 140 80 L 130 60 L 120 50 Z"; 

        // åˆå§‹åŒ–
        document.getElementById('plant-wall-path').setAttribute('d', plantPathNormal);
        document.getElementById('plant-membrane-path').setAttribute('d', plantPathNormal);

        // é¡†ç²’ç³»çµ±
        function createParticles(containerId, direction) {
            const container = document.getElementById(containerId);
            container.querySelectorAll('.water-particle').forEach(p => p.remove());
            if(direction === 'none') {
                container.classList.remove('p-out', 'p-in'); return;
            }
            for (let i = 0; i < 40; i++) { 
                let p = document.createElement('div');
                p.className = 'water-particle';
                let angle = Math.random() * Math.PI * 2;
                let distance = 100 + Math.random() * 100;
                p.style.setProperty('--tx', Math.cos(angle) * distance + 'px');
                p.style.setProperty('--ty', Math.sin(angle) * distance + 'px');
                p.style.animationDelay = Math.random() * 2 + 's';
                container.appendChild(p);
            }
            container.classList.remove('p-out', 'p-in');
            container.classList.add(direction === 'out' ? 'p-out' : 'p-in');
        }

        function resetLab() {
            clearTimeout(burstTimer);
            const animalPath = document.getElementById('animal-path');
            const plantWall = document.getElementById('plant-wall-path');
            const plantMembrane = document.getElementById('plant-membrane-path');
            const beakers = document.querySelectorAll('.beaker');

            animalPath.setAttribute('d', animalPathNormal);
            animalPath.style.transform = "scale(1)"; 
            animalPath.classList.remove('animal-burst-state');

            plantWall.style.d = `path("${plantPathNormal}")`;
            plantMembrane.style.d = `path("${plantPathNormal}")`;
            plantWall.style.stroke = "#27ae60"; 
            plantWall.style.strokeWidth = "8px";

            beakers.forEach(b => b.className = 'beaker');
            createParticles('beaker-animal', 'none');
            createParticles('beaker-plant', 'none');
        }

        function runExperiment(type) {
            resetLab();
            setTimeout(() => {
                const animalPath = document.getElementById('animal-path');
                const plantWall = document.getElementById('plant-wall-path');
                const plantMembrane = document.getElementById('plant-membrane-path');
                const beakers = document.querySelectorAll('.beaker');
                const text = document.getElementById('status-text');

                if (type === 'hyper') {
                    text.innerHTML = "âš ï¸ é«˜å¼µæº¶æ¶²ï¼šæ¤ç‰©è³ªå£åˆ†é›¢ã€‚ç´°èƒå£å¾ˆç¡¬ï¼Œå®Œå…¨ç¶­æŒåŸç‹€ã€‚";
                    beakers.forEach(b => b.classList.add('bg-hyper'));
                    animalPath.style.transform = "scale(0.6)";
                    plantWall.style.d = `path("${plantPathNormal}")`; 
                    plantMembrane.style.d = `path("${plantPathShrinkMembrane}")`;
                    createParticles('beaker-animal', 'out');
                    createParticles('beaker-plant', 'out');

                } else if (type === 'iso') {
                    text.innerHTML = "âœ… ç­‰å¼µæº¶æ¶²ï¼šç´°èƒå¤–å½¢ç¶­æŒç©©å®šã€‚";

                } else if (type === 'hypo') {
                    text.innerHTML = "ğŸ’§ ä½å¼µæº¶æ¶²ï¼šæ³¨æ„çœ‹æ¤ç‰©ç´°èƒå£ï¼åªæœƒã€Œå¾®å¾®å½æ›²ã€ï¼Œå› ç‚ºçº–ç¶­ç´ éå¸¸å¼·éŸŒï¼";
                    beakers.forEach(b => b.classList.add('bg-hypo'));
                    createParticles('beaker-animal', 'in');
                    createParticles('beaker-plant', 'in');

                    // æ¤ç‰©ç´°èƒï¼šå¾®å½ç‰ˆ
                    plantWall.style.d = `path("${plantPathTurgid}")`; 
                    plantMembrane.style.d = `path("${plantPathTurgid}")`; 
                    plantWall.style.stroke = "#2ecc71";
                    
                    // å‹•ç‰©ç´°èƒï¼šè®Šå¤§ -> ç ´è£‚å®šæ ¼
                    animalPath.style.transform = "scale(1.5)";
                    burstTimer = setTimeout(() => {
                        createParticles('beaker-animal', 'none');
                        animalPath.setAttribute('d', animalPathBurst);
                        animalPath.classList.add('animal-burst-state');
                        text.innerHTML = "ğŸ’¥ ç °ï¼ç´…è¡€çƒç ´è£‚ï¼æ¤ç‰©ç´°èƒå‰‡ç¶­æŒè‘—ã€Œå¾®å½ã€çš„ç‹€æ…‹ã€‚";
                    }, 3800);
                }
            }, 50);
        }
    </script>
</body>
</html>